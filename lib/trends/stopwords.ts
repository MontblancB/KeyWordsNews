/**
 * 한국어 불용어 리스트
 * TrendNow 키워드 추출 시 필터링에 사용
 * 사용처: /api/trends/google, /api/trends/collect
 */
export const STOPWORDS = new Set([
  // 조사
  '이', '가', '은', '는', '을', '를', '의', '에', '에서', '으로', '로', '과', '와', '도', '만', '까지', '부터', '조차', '마저',
  // 접속사/부사
  '그리고', '하지만', '그러나', '또한', '또', '및', '등', '이런', '저런', '그런',
  // 일반적인 단어
  '것', '수', '때', '등', '중', '내', '위', '통해', '대해', '관련', '있다', '없다', '하다',
  '있는', '없는', '하는', '된', '되는', '한', '할', '위한', '대한', '관한',
  '뉴스', '기사', '보도', '발표', '공개', '전달', '알려', '밝혀', '속보', '긴급',
  // 날짜/시간
  '오늘', '어제', '내일', '올해', '작년', '내년', '이번', '지난', '다음', '월', '일', '년',
  // 도메인/기술 용어
  'com', 'co', 'kr', 'net', 'org', 'www', 'http', 'https',
  // 뉴스 출처/플랫폼
  '네이트', '네이버', '다음', 'daum', 'naver', 'google', '구글',
  // 카테고리
  '글로벌', '스포츠', '연예', '문화', '사회', '정치', '경제', 'IT',
])

/**
 * 시간 가중치 계산 (지수 감소)
 * 최근 뉴스일수록 높은 가중치, 시간이 지나면 부드럽게 감소
 * - 0시간: 1.0, 6시간: 0.63, 12시간: 0.39, 24시간: 0.15, 48시간: 0.02
 */
export function calcTimeWeight(hoursSincePublished: number): number {
  const DECAY_HOURS = 12 // 반감기: ~8.3시간 (12시간 후 약 0.37)
  return Math.exp(-hoursSincePublished / DECAY_HOURS)
}
