# Compact Skill

현재까지의 작업 내용을 자동으로 분석하고 문서화하는 스킬입니다.

## 🎯 목적

작업 완료 후 문서화 과정을 자동화합니다:
1. 변경사항 분석 (Git 상태, 변경 파일 확인)
2. 버전 자동 계산 (Semantic Versioning)
3. 문서 업데이트 (CLAUDE.md, app/settings/page.tsx)
4. 요약 보고서 생성

## 📁 파일 구조

```
.claude/skills/compact/
├── SKILL.md         # 메인 스킬 정의 (Claude가 읽음)
└── README.md        # 이 파일 (사용 가이드)
```

## 🚀 사용 방법

### 자동 활성화 (추천)

Claude가 자연스러운 대화에서 자동으로 감지합니다:

```
✅ "컴팩트"
✅ "작업 내용 정리해줘"
✅ "문서 업데이트할게"
✅ "버전 올리고 문서화해줘"
```

### 수동 호출

명시적으로 스킬을 호출할 수도 있습니다:

```bash
/compact
```

## 🔄 워크플로우

### 1단계: 변경사항 분석
```bash
# Git 상태 확인
git status --short
git diff
git log --oneline -5
```

**확인 내용:**
- ✅ 수정된 파일 목록
- ✅ 추가된 파일 목록
- ✅ 삭제된 파일 목록
- ✅ 변경의 성격 파악

### 2단계: 버전 계산

Semantic Versioning 규칙에 따라 자동 계산:

| 변경 유형 | 버전 증가 | 예시 |
|----------|----------|------|
| 새 기능, 개선 | MINOR | 2.8.0 → 2.9.0 |
| 버그 수정 | PATCH | 2.8.0 → 2.8.1 |
| 호환성 없는 변경 | MAJOR | 2.8.0 → 3.0.0 |

### 3단계: 문서 업데이트

**CLAUDE.md 업데이트 (3군데):**
1. 현재 버전 (20번째 줄)
2. 마지막 업데이트 날짜 (21번째 줄)
3. 체인지로그 항목 추가
4. 파일 맨 아래 버전 정보

**app/settings/page.tsx 업데이트 (2군데):**
1. 버전 번호 (38번째 줄)
2. 마지막 업데이트 날짜 (39번째 줄)

### 4단계: 요약 보고서

```
✅ **문서 업데이트 완료!**

📊 **변경 요약**
- 수정된 파일: 3개
- 추가된 파일: 2개
- 삭제된 파일: 0개

🔢 **버전 정보**
- 이전 버전: 2.8.0
- 새 버전: 2.9.0 (MINOR)

📝 **업데이트된 파일**
- ✅ CLAUDE.md
- ✅ app/settings/page.tsx
```

## 📝 체인지로그 형식

```markdown
### vX.Y.Z (YYYY-MM-DD)
**기능 제목**

#### 주요 변경사항
- ✨ 변경사항 1
- ⚡ 변경사항 2
- 🎨 변경사항 3

#### 기술적 개선
- 📄 기술적 세부사항 1
- 🔧 기술적 세부사항 2

---
```

## 📊 이모지 가이드

| 이모지 | 용도 |
|-------|------|
| ✨ | 새 기능 |
| 🐛 | 버그 수정 |
| 📝 | 문서 |
| ⚡ | 성능 개선 |
| 🎨 | UI/UX |
| 🔧 | 설정/도구 |
| ♻️ | 리팩토링 |
| 🗑️ | 제거 |
| 📦 | 의존성 |
| 🔐 | 보안 |

## 💡 사용 예시

### 예시 1: 새 기능 추가 후

```
사용자: "컴팩트"

스킬:
📊 1/4: 변경사항 분석 중...
- hooks/useFontSize.ts (새 파일)
- components/FontSizeControl.tsx (새 파일)
- app/settings/page.tsx (수정됨)

🔢 2/4: 버전 계산 중...
- 현재 버전: 2.8.0
- 새 버전: 2.9.0 (MINOR)

📚 3/4: 문서 업데이트 중...
✅ CLAUDE.md 업데이트 완료
✅ app/settings/page.tsx 업데이트 완료

📋 4/4: 요약 보고서 생성 중...
✅ 완료!

💡 다음 단계: /automated-publishing 스킬로 커밋 및 푸시
```

### 예시 2: 버그 수정 후

```
사용자: "버그 수정했어. 문서 업데이트해줘"

스킬:
📊 변경사항 분석...
- components/NewsCard.tsx (수정됨)

🔢 버전 계산...
- 2.8.0 → 2.8.1 (PATCH)

📚 문서 업데이트...
✅ 완료!
```

## ⚙️ 권한 설정

스킬이 사용하는 도구들:

```yaml
allowed-tools:
  - Read                    # 파일 읽기
  - Edit                    # 파일 수정
  - Bash(git status:*)     # Git 상태 확인
  - Bash(git diff:*)       # Git 변경사항
  - Bash(git log:*)        # Git 히스토리
  - Glob                    # 파일 패턴 매칭
  - Grep                    # 파일 검색
```

## 🎓 팁

1. **작업 후 바로 실행**: 작업을 마치면 바로 `컴팩트`를 실행하세요
2. **자동 분류**: 파일 경로와 변경 내용을 기반으로 자동 분류됩니다
3. **체인지로그 품질**: 명확하고 구체적인 내용이 자동 생성됩니다
4. **다음 단계**: 문서화 후 `/automated-publishing`으로 커밋 및 푸시

## 🔗 연관 스킬

- **automated-publishing**: 문서 업데이트 후 커밋 및 푸시까지 자동화
- **compact**: 문서화만 수행 (이 스킬)

## 🤝 워크플로우 조합

### 추천 워크플로우

```
1. 작업 완료
2. `컴팩트` - 문서 업데이트
3. `/automated-publishing` - 코드 검토, 빌드, 커밋, 푸시
```

### 빠른 워크플로우

```
1. 작업 완료
2. `/automated-publishing` - 모든 과정 자동화 (문서 업데이트 포함)
```

## 🐛 문제 해결

### 스킬이 자동으로 활성화되지 않아요

**해결**:
1. 명확하게 문서화 의도를 표현하세요
   - ✅ "컴팩트"
   - ✅ "문서 업데이트"
   - ❌ "끝" (너무 애매함)

2. 또는 수동으로 호출:
   ```
   /compact
   ```

### 버전 번호가 이상해요

**해결**:
스킬에게 원하는 버전을 명시적으로 알려주세요:
```
"버그 수정만 했어 (PATCH)"
"새 기능 추가했어 (MINOR)"
```

### CLAUDE.md를 찾을 수 없어요

**해결**:
프로젝트 루트에 CLAUDE.md가 있는지 확인하세요.

## 📚 추가 정보

- **SKILL.md**: 메인 스킬 로직 및 프로세스
- **automated-publishing**: 전체 배포 워크플로우

## 🎁 장점

1. **시간 절약**: 수동으로 5개 파일을 수정할 필요 없음
2. **일관성**: 항상 동일한 형식으로 문서화
3. **자동 버전 관리**: Semantic Versioning 규칙 자동 적용
4. **체인지로그 품질**: 명확하고 구조화된 체인지로그

## 🚫 제한사항

- Git 커밋이나 푸시는 수행하지 않음 (문서화만)
- 빌드 테스트는 수행하지 않음
- 코드 검토는 수행하지 않음

이러한 기능이 필요하면 `/automated-publishing` 스킬을 사용하세요.

---

**만든이**: KeyWordsNews Team
**버전**: 1.0.0
**마지막 업데이트**: 2026-01-17
